{"version":3,"sources":["redux/dialogs-reducer.js","components/Navbar/Friends/Friend/Friend.module.css","components/Users/Users.module.css","components/Login/Login.module.css","components/Navbar/Navbar.module.css","api/api.js","serviceWorker.js","components/Navbar/Friends/Friend/Friend.jsx","components/Navbar/Friends/Friends.jsx","components/Navbar/Friends/FriendsContainer.jsx","components/Navbar/Navbar.jsx","components/Settings/Settings.jsx","components/Music/Music.jsx","utils/object-helpers.js","redux/users-reducer.js","assets/images/user.png","components/Users/User/User.jsx","components/Common/Paginator/Paginator.jsx","components/Users/Users.jsx","redux/selectors/user-selector.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","redux/sidebar-reducer.js","redux/redux-store.js","App.js","index.js","components/Users/User/User.module.css","components/Common/FormControls/FormControls.module.css","components/Common/FormControls/FormControls.js","assets/images/preloader.svg","components/Common/Preloader/Preloader.jsx","utils/validators/validators.js","components/Navbar/Friends/Friends.module.css","components/Common/Paginator/Paginator.module.css","components/Header/Header.module.css","redux/profile-reducer.js"],"names":["ADD_MESSAGE","dialogsPage","dialogs","id","name","messages","sender","type","message","addMessage","dialogsReducer","state","action","module","exports","instance","axios","create","withCredentials","baseURL","headers","AUTH_API","me","get","then","response","data","login","email","password","rememberMe","post","logout","delete","PROFILE_API","getProfile","userId","getStatus","updateStatus","status","put","USERS_API","getUsers","pageNo","pageSize","follow","unfollow","Boolean","window","location","hostname","match","Friend","props","className","s","friend","alt","src","imgSrc","Friends","friendsElements","friends","map","friendsList","FriendsContainer","connect","sidebar","Navbar","nav","item","to","isActive","active","Settings","Music","updateObjectInArray","items","itemId","objPropName","newObjProps","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PRORESS","initialState","users","totalUsersCount","currentPage","isFetching","followingInProgress","onFollow","onUnfollow","setCurrentPage","page","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","followed","totalCount","filter","User","user","disabled","some","css","avatar_button","photos","large","photo","onClick","name_status","Paginator","requestItems","totalItemsCount","lastPage","Math","ceil","setPage","pageInput","value","onChange","e","newPage","parseInt","target","pagination","Users","requestUsers","createSelector","usersPage","u","getTotalUsersCount","getCurrentPage","getPageSize","getIsFetching","getFollowingInProgress","UsersAPIComponent","this","Preloader","React","Component","UsersContainer","compose","Header","isAuth","header","SET_USER_DATA","setAuthUserData","getAuthUserData","authReducer","HeaderContainer","auth","LoginReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","component","Input","validate","required","placeholder","htmlFor","error","formCss","formCommonError","length","stopSubmit","_error","navigate","useNavigate","loginForm","formData","SET_INITIALIZED","initialized","appReducer","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","ProfileContainer","lazy","DialogsContainer","News","App","initializeApp","Suspense","fallback","path","element","AppContainer","promise","Promise","all","AppMain","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","console","FormControl","hasError","meta","touched","formControl","children","Textarea","input","preloader","maxLengthCreator","maxlength","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","posts","likesCount","profile","addPost","body","setStatus","p","postId"],"mappings":"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","file":"static/js/main.5e57bbaa.chunk.js","sourcesContent":["const ADD_MESSAGE = 'dialogs/ADD-MESSAGE';\n\nlet dialogsPage = {\n    dialogs: [\n        {id: 1, name: 'Anna'},\n        {id: 2, name: 'Kristine'},\n        {id: 3, name: 'Ammy'},\n        {id: 4, name: 'Sasha'},\n        {id: 5, name: 'Vika'},\n        {id: 6, name: 'Victor'},\n    ],\n    messages: [\n        {id: 1, sender: 'Me', type: 'outgoing', message: 'Anna'},\n        {id: 2, sender: 'Me', type: 'outgoing', message: 'Hi'},\n        {id: 3, sender: 'Anna', type: 'incoming', message: 'Hello'},\n        {id: 3, sender: 'Me', type: 'outgoing', message: 'How do you do?'},\n        {id: 3, sender: 'Anna', type: 'incoming', message: \"I'm horny as hell...\"}\n    ]\n}\n\nconst dialogsReducer = (state = dialogsPage, action) => {\n    switch (action.type) {\n        case ADD_MESSAGE:\n            const message = {\n                id: 1,\n                sender: 'Me',\n                type: 'outgoing',\n                message: action.message\n            }\n            return {\n                ...state,\n                messages: [...state.messages, message]\n            }\n        default:\n            return state;\n    }\n}\n\nexport const addMessage = (message) => ({ type: ADD_MESSAGE, message})\n\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friend\":\"Friend_friend__19z3Q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__2Iv27\",\"selected\":\"Users_selected__EHhn7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginForm\":\"Login_loginForm__1Hg13\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2imOE\",\"item\":\"Navbar_item__zmMk4\",\"active\":\"Navbar_active__3mbhk\"};","import axios from \"axios\";\n\nconst instance = axios.create({\n    withCredentials: true,\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n    headers: {\n        \"API-KEY\": \"cf33d654-6242-4d8e-9684-14db21c7b808\"\n    }\n})\n\nexport const AUTH_API = {\n    me() {\n       return instance.get(`/auth/me`)\n           .then(response => response.data)\n    },\n    login(email, password, rememberMe) {\n        return instance.post(`auth/login`, {email, password, rememberMe})\n            .then(response => response.data)\n    },\n    logout() {\n        return instance.delete(`auth/login`)\n            .then(response => response.data)\n    }\n}\n\nexport const PROFILE_API = {\n    getProfile(userId) {\n        return instance.get(`profile/${userId}`)\n            .then(response => response.data)\n    },\n\n    getStatus(userId) {\n        return instance.get(`profile/status/${userId}`)\n            .then(response => response)\n    },\n\n    updateStatus(status) {\n        return instance.put(`profile/status`, {status: status})\n            .then(response => response.data)\n    },\n}\n\nexport const USERS_API = {\n    getUsers (pageNo, pageSize) {\n        return instance.get(`users?page=${pageNo}&count=${pageSize}`, {withCredentials: true})\n            .then(response => response.data)\n    },\n\n    follow(userId) {\n        return instance.post(`follow/${userId}`, {})\n            .then(response => response.data)\n    },\n\n    unfollow(userId) {\n        return instance.delete(`follow/${userId}`)\n            .then(response => response.data)\n    }\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport s from './Friend.module.css';\n\nconst Friend = (props) => {\n    return (\n        <div className={s.friend}>\n            <div>\n                <img alt={''} src={props.imgSrc}/>\n            </div>\n            <div>\n                {props.name}\n            </div>\n        </div>\n    );\n}\n\nexport default Friend;","import s from \"./Friends.module.css\";\nimport React from \"react\";\nimport Friend from \"./Friend/Friend\";\n\nconst Friends = ({friends}) => {\n\n    let friendsElements = friends\n        .map(friend => <Friend name={friend.name} imgSrc={friend.imgSrc}/>)\n\n    return (\n        <div className={s.friends}>\n            <h4>Friends</h4>\n\n            <div className={s.friendsList}>\n                { friendsElements }\n            </div>\n        </div>\n    )\n}\n\nexport default Friends;","import Friends from \"./Friends\";\nimport {connect} from \"react-redux\";\n\n\nlet mapStateToProps = (state) => {\n    return {\n        friends: state.sidebar.friends\n    }\n}\n\nconst FriendsContainer = connect(mapStateToProps, {}) (Friends);\n\nexport default FriendsContainer;","import React from 'react';\nimport s from './Navbar.module.css';\nimport {NavLink} from \"react-router-dom\";\nimport FriendsContainer from \"./Friends/FriendsContainer\";\n\nconst Navbar = () => {\n    return <nav className={s.nav}>\n        <div className={s.item}>\n            <NavLink to='/profile' className={({isActive})=> isActive ?`${s.active}`:\"\"}>Profile</NavLink>\n        </div>\n        <div className={s.item}>\n            <NavLink to='/dialogs' className={({isActive})=> isActive ?`${s.active}`:\"\"}>Messages</NavLink>\n        </div>\n        <div className={s.item}>\n            <NavLink to='/users' className={({isActive})=> isActive ?`${s.active}`:\"\"}>Users</NavLink>\n        </div>\n        <div className={s.item}>\n            <NavLink to='/news' className={({isActive})=> isActive ?`${s.active}`:\"\"}>News</NavLink>\n        </div>\n        <div className={s.item}>\n            <NavLink to='/music' className={({isActive})=> isActive ?`${s.active}`:\"\"}>Music</NavLink>\n        </div>\n        <div className={s.item}>\n            <NavLink to='/settings' className={({isActive})=> isActive ?`${s.active}`:\"\"}>Settings</NavLink>\n        </div>\n        <FriendsContainer/>\n    </nav>\n}\n\nexport default Navbar;","import React from 'react';\n\nconst Settings = () => {\n    return (\n        <div>\n            Settings\n        </div>\n    );\n}\n\nexport default Settings;","import React from 'react';\n\nconst Music = () => {\n    return (\n        <div>\n            Music\n        </div>\n    );\n}\n\nexport default Music;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps ) => {\n    return items.map(item => {\n        if (item[objPropName] === itemId) {\n            return {...item, ...newObjProps}\n        }\n        return item\n    })\n}","import {USERS_API} from \"../api/api\";\nimport {updateObjectInArray} from \"../utils/object-helpers\";\n\nconst FOLLOW = 'users/FOLLOW';\nconst UNFOLLOW = 'users/UNFOLLOW';\nconst SET_USERS = 'users/SET_USERS';\nconst SET_CURRENT_PAGE = 'users/SET_CURRENT_PAGE';\nconst SET_TOTAL_USERS_COUNT = 'users/SET_TOTAL_USERS_COUNT';\nconst TOGGLE_IS_FETCHING = 'users/TOGGLE_IS_FETCHING';\nconst TOGGLE_IS_FOLLOWING_PRORESS = 'users/TOGGLE_IS_FOLLOWING_PRORESS';\n\nlet initialState = {\n    users: [],\n    pageSize: 50,\n    totalUsersCount: 0,\n    currentPage: 1,\n    isFetching: false,\n    followingInProgress: []\n}\n\nconst usersReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case FOLLOW:\n            return {\n                ...state,\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\n            }\n        case UNFOLLOW:\n            return {\n                ...state,\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\n            }\n        case SET_USERS:\n            return {\n                ...state,\n                users: [...action.users]\n            }\n        case SET_CURRENT_PAGE:\n            return {\n                ...state,\n                currentPage: action.page\n            }\n        case SET_TOTAL_USERS_COUNT:\n            return {\n                ...state,\n                totalUsersCount: action.totalCount\n            }\n        case TOGGLE_IS_FETCHING:\n            return {...state, isFetching: action.isFetching}\n        case TOGGLE_IS_FOLLOWING_PRORESS:\n            return {\n                ...state,\n                followingInProgress: action.isFetching\n                    ? [...state.followingInProgress, action.userId]\n                    : state.followingInProgress.filter(id => id !== action.userId)\n            }\n        default:\n            return state;\n    }\n}\n\nexport const onFollow = (userId) => ({ type: FOLLOW, userId: userId})\nexport const onUnfollow = (userId) => ({ type: UNFOLLOW, userId: userId})\nexport const setUsers = (users) => ({type:SET_USERS, users: users})\nexport const setCurrentPage = (page) => ({type: SET_CURRENT_PAGE, page})\nexport const setTotalUsersCount = (totalCount) => ({type: SET_TOTAL_USERS_COUNT, totalCount})\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching})\nexport const toggleFollowingProgress = (isFetching, userId) => ({type: TOGGLE_IS_FOLLOWING_PRORESS, isFetching, userId})\n\nexport const requestUsers = (currentPage, pageSize) => {\n    return async (dispatch) => {\n        dispatch(toggleIsFetching(true));\n        let response = await USERS_API.getUsers(currentPage, pageSize)\n        dispatch(toggleIsFetching(false))\n        dispatch(setUsers(response.items))\n        dispatch(setCurrentPage(currentPage))\n        dispatch(setTotalUsersCount(response.totalCount))\n    }\n}\n\nexport const follow = (userId) => {\n    return (dispatch) => {\n        followUnfollowFlow(dispatch, userId, USERS_API.follow, onFollow)\n    }\n}\n\nexport const unfollow = (userId) => {\n    return (dispatch) => {\n        followUnfollowFlow(dispatch, userId, USERS_API.unfollow, onUnfollow)\n    }\n}\n\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\n    dispatch(toggleFollowingProgress(true, userId))\n    let response = await apiMethod(userId)\n    if (response.resultCode === 0) {\n        dispatch(actionCreator(userId))\n    }\n    dispatch(toggleFollowingProgress(false, userId))\n}\n\nexport default usersReducer;","export default __webpack_public_path__ + \"static/media/user.feacc1e8.png\";","import React from \"react\";\nimport css from \"./User.module.css\"\nimport photo from \"../../../assets/images/user.png\"\nimport {NavLink} from \"react-router-dom\";\n\nconst User = (props) => {\n    let user = props.user;\n    let disabled = props.followingInProgress.some(id => id === user.id)\n\n    return <div className={css.user}>\n        <div className={css.avatar_button}>\n            <div>\n                <NavLink to={'/profile/' + user.id}>\n                    <img alt={''} src={user.photos.large != null ? user.photos.large : photo}/>\n                </NavLink>\n            </div>\n            <div>\n                {\n                    user.followed\n                        ? <button disabled={disabled} onClick={() => { props.unfollow(user.id) }}>Unsubscribe</button>\n                        : <button disabled={disabled} onClick={() => { props.follow(user.id) }}>Subscribe</button>\n                }\n            </div>\n        </div>\n        <div className={css.name_status}>\n            <div className={css.name}>{user.name}</div>\n            <div className={css.status}>{user.status}</div>\n        </div>\n\n        <div className={css.location}>\n            <div>Saint-Petersburg</div>\n            <div>Russia</div>\n        </div>\n\n    </div>\n\n\n}\n\nexport default User;","import css from \"./Paginator.module.css\";\n\nexport const Paginator = ({requestItems, totalItemsCount, pageSize, currentPage}) => {\n\n    const lastPage = Math.ceil(totalItemsCount / pageSize)\n\n    const setPage = (page) => {\n        requestItems(page, pageSize)\n    }\n\n    const goToFirsPage = () => {\n        if (currentPage !== 1) {\n            setPage(1);\n        }\n    }\n\n    const goToLastPage = () => {\n        if (currentPage !== lastPage) {\n            setPage(lastPage);\n        }\n    }\n\n    const goToPrevPage = () => {\n        if (currentPage !== 1) {\n            setPage(currentPage - 1);\n        }\n    }\n\n    const goToNextPage = () => {\n        if (currentPage !== lastPage) {\n            setPage(currentPage + 1);\n        }\n    }\n\n    const onPageInputChange = (e) => {\n        let newPage = parseInt(e.target.value);\n        if (newPage >= 1 && newPage <= lastPage) {\n            setPage(newPage);\n        }\n    }\n\n    let pageInput = <input type=\"number\"\n                           className={css.pageInput}\n                           value={currentPage}\n                           onChange={onPageInputChange}/>;\n\n    return (\n        <div>\n            <div className={css.pagination}>\n                <span><button onClick={goToFirsPage}>{'<<'}</button>  </span>\n                <span><button onClick={goToPrevPage}>{'<'}</button>  </span>\n                <span><button onClick={goToNextPage}>{'>'}</button>  </span>\n                <span><button onClick={goToLastPage}>{'>>'}</button>  </span>\n                <span>Page {pageInput} of {lastPage}</span>\n            </div>\n        </div>\n    )\n}","import React from \"react\";\nimport User from \"./User/User\";\nimport css from \"./Users.module.css\";\nimport {Paginator} from \"../Common/Paginator/Paginator\";\n\nconst Users = (props) => {\n\n    let users = props.users\n        .map(user => <User user={user}\n                           follow={(userId) => props.follow(userId) }\n                           unfollow={(userId) => props.unfollow(userId)}\n                           followingInProgress={props.followingInProgress}/>)\n\n    return (<div className={css.users}>\n            <h3>Users</h3>\n            <Paginator requestItems={props.requestUsers}\n                       currentPage={props.currentPage}\n                       pageSize={props.pageSize}\n                       totalItemsCount={props.totalUsersCount}/>\n            {users}\n        </div>\n    )\n\n}\n\nexport default Users;","import {createSelector} from \"reselect\";\n\nexport const getUsersSelector = (state) => {\n    return state.usersPage.users\n}\n\nexport const getUsers = createSelector(getUsersSelector, (users) => {\n    // example how to user reselectors\n    return users.filter(u => true);\n})\n\nexport const getTotalUsersCount = (state) => {\n    return state.usersPage.totalUsersCount\n}\n\nexport const getCurrentPage = (state) => {\n    return state.usersPage.currentPage\n}\n\nexport const getPageSize = (state) => {\n    return state.usersPage.pageSize\n}\n\nexport const getIsFetching = (state) => {\n    return state.usersPage.isFetching\n}\n\nexport const getFollowingInProgress = (state) => {\n    return state.usersPage.followingInProgress\n}","import React from \"react\";\nimport {connect} from \"react-redux\";\nimport {follow, requestUsers, setCurrentPage, unfollow} from \"../../redux/users-reducer\";\nimport Users from \"./Users\";\nimport Preloader from \"../Common/Preloader/Preloader\";\nimport {compose} from \"redux\";\nimport {getCurrentPage, getFollowingInProgress, getIsFetching, getPageSize, getTotalUsersCount, getUsers} from \"../../redux/selectors/user-selector\";\n\nclass UsersAPIComponent extends React.Component {\n\n    componentDidMount() {\n        this.props.requestUsers(this.props.currentPage, this.props.pageSize)\n    }\n\n    render() {\n        return <>\n            {this.props.isFetching\n                ? <Preloader />\n                : <Users users={this.props.users}\n                         follow={this.props.follow}\n                         unfollow={this.props.unfollow}\n                         followingInProgress={this.props.followingInProgress}\n                         // paginator\n                         requestUsers={this.props.requestUsers}\n                         currentPage={this.props.currentPage}\n                         pageSize={this.props.pageSize}\n                         totalUsersCount={this.props.totalUsersCount}/>}\n        </>\n    }\n}\n\nlet mapStateToProps = (state) => {\n    return {\n        users: getUsers(state),\n        totalUsersCount: getTotalUsersCount(state),\n        currentPage: getCurrentPage(state),\n        pageSize: getPageSize(state),\n        isFetching: getIsFetching(state),\n        followingInProgress: getFollowingInProgress(state)\n    }\n}\n\nexport const UsersContainer = compose(\n    connect(mapStateToProps,{follow, unfollow, setCurrentPage, requestUsers})\n)(UsersAPIComponent)","import React from 'react';\nimport css from './Header.module.css'\nimport {NavLink} from \"react-router-dom\";\n\nconst Header = ({isAuth, login, logout}) => {\n    return <header className={css.header}>\n            <img alt={''} src=\"https://static.tildacdn.com/tild3533-3066-4136-b166-656161323666/shtaf.png\"/>\n\n        <div className={css.login}>\n            {isAuth\n                ? <div>{login} - <button onClick={logout}>Logout</button></div>\n                : <NavLink to={'/login'}>Login</NavLink>}\n        </div>\n    </header>\n}\n\nexport default Header;","import {AUTH_API} from \"../api/api\";\nimport {stopSubmit} from \"redux-form\";\n\nconst SET_USER_DATA = 'auth/SET_USER_DATA'\n\nlet initialState = {\n    userId: null,\n    email: null,\n    login: null,\n    isAuth: false\n}\n\nconst authReducer = (state = initialState, action) => {\n\n    switch (action.type) {\n        case SET_USER_DATA:\n            return {\n                ...state,\n                ...action.data\n            }\n        default:\n            return state;\n    }\n}\n\nexport const setAuthUserData = (userId, email, login, isAuth) => ({type: SET_USER_DATA, data: {userId, email, login, isAuth}})\n\nexport const getAuthUserData = () => async (dispatch) => {\n    let response = await AUTH_API.me();\n    if (response.resultCode === 0) {\n        let {id, email, login} = response.data;\n        dispatch(setAuthUserData(id, email, login, true));\n    }\n}\n\nexport const login = (email, password, rememberMe) => {\n    return async (dispatch) => {\n        let response = await AUTH_API.login(email, password, rememberMe)\n        if (response.resultCode === 0) {\n            dispatch(getAuthUserData())\n        } else {\n            let message = response.messages.length > 0 ? response.messages[0] : 'Unable to login'\n            dispatch(stopSubmit('login', {_error: message}))\n        }\n    }\n}\n\nexport const logout = () => {\n    return async (dispatch) => {\n        let response = await AUTH_API.logout()\n        if (response.resultCode === 0) {\n            dispatch(setAuthUserData(null, null, null, false))\n        }\n    }\n}\n\nexport default authReducer;","import React from 'react';\nimport Header from \"./Header\";\nimport {connect} from \"react-redux\";\nimport {logout} from \"../../redux/auth-reducer\";\n\nclass HeaderContainer extends React.Component {\n    render() {\n        return <Header {...this.props}/>\n    }\n}\n\nlet mapStateToProps = (state) => {\n    return {\n        isAuth: state.auth.isAuth,\n        login: state.auth.login\n    }\n}\n\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import React from \"react\";\nimport {Field, reduxForm} from \"redux-form\";\nimport {Input} from \"../Common/FormControls/FormControls\";\nimport {required} from \"../../utils/validators/validators\";\nimport {connect} from \"react-redux\";\nimport {login, logout} from \"../../redux/auth-reducer\";\nimport {useNavigate} from \"react-router-dom\";\nimport formCss from \"../Common/FormControls/FormControls.module.css\"\nimport css from \"./Login.module.css\"\n\n\nconst LoginForm = (props) => {\n    return (\n        <form onSubmit={props.handleSubmit}>\n            <div>\n                <Field component={Input}\n                       validate={[required]}\n                       name={'email'}\n                       placeholder={'Login'}/>\n            </div>\n            <div>\n                <Field component={Input}\n                       validate={[required]}\n                       name={'password'}\n                       placeholder={'Password'}/>\n            </div>\n            <div>\n                <label htmlFor={'rememberMe'}>Remember Me</label>\n                <Field component={Input}\n                       name={'rememberMe'}\n                       type='checkbox'/>\n            </div>\n            { props.error &&\n            <div className={formCss.formCommonError}>\n                {props.error}\n            </div>\n            }\n            <div>\n                <button type={'submit'} >Login</button>\n            </div>\n        </form>\n    )\n}\n\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\n\nconst Login = (props) => {\n    const navigate = useNavigate();\n    const onSubmit = (formData) => {\n        props.login(formData.email, formData.password, formData.rememberMe)\n    }\n\n    if (props.isAuth) {\n        navigate('/profile');\n    }\n\n    return (\n        <div className={css.loginForm}>\n            <h1>LOGIN</h1>\n            <LoginReduxForm onSubmit={onSubmit}/>\n        </div>\n    )\n}\n\n\nconst mapStateToProps = (state) => ({\n    isAuth: state.auth.isAuth\n})\n\nexport default connect(mapStateToProps, {login, logout})(Login)","import {getAuthUserData} from \"./auth-reducer\";\n\nconst SET_INITIALIZED = 'app/SET_INITIALIZED'\n\nlet initialState = {\n    initialized: false\n}\n\nconst appReducer = (state = initialState, action) => {\n\n    switch (action.type) {\n        case SET_INITIALIZED:\n            return {\n                ...state,\n                initialized: true\n            }\n        default:\n            return state;\n    }\n}\n\nexport const setInitialized = () => ({type: SET_INITIALIZED})\n\nexport const initializeApp = () => (dispatch) => {\n    const promise = dispatch(getAuthUserData());\n\n    Promise.all([promise])\n        .then(() => dispatch(setInitialized()))\n}\n\n\n\n\nexport default appReducer;","\nlet sidebar = {\n    friends: [\n        {name: 'Anna', imgSrc: 'https://intim-mall.ru/images/thumbnails/1223/1000/detailed/250/154335.jpg'},\n        {name: 'Kristine', imgSrc: 'https://1.bp.blogspot.com/-IRT6j8h_fqk/XN9yeP_ojII/AAAAAAAATG0/9Av70aLOzJoDmaOMLjRFB8bhYQO0MvRhwCKgBGAs/s1600/45612837_361298791302732_5759895938742232043_n.jpg'},\n        {\n            name: 'Ammy',\n            imgSrc: 'https://steamuserimages-a.akamaihd.net/ugc/28479983632518879/DDECB815BB7CD6E0D56C1CF8B6DBE9CE5F94BC29/?imw=512&amp;imh=512&amp;ima=fit&amp;impolicy=Letterbox&amp;imcolor=%23000000&amp;letterbox=true'\n        },\n        {name: 'Vika', imgSrc: 'https://sun9-60.userapi.com/c841228/v841228265/fed8/Dhjv4bMjHSc.jpg'},\n        {name: 'Sasha', imgSrc: 'https://s45.radikal.ru/i109/1107/5e/8db777456d5c.png'}\n    ]\n}\n\nconst sidebarReducer = (state = sidebar, action) => {\n    return state;\n}\n\nexport default sidebarReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\nimport profileReducer from \"./profile-reducer\";\nimport dialogsReducer from \"./dialogs-reducer\";\nimport sidebarReducer from \"./sidebar-reducer\";\nimport usersReducer from \"./users-reducer\";\nimport authReducer from \"./auth-reducer\";\nimport thunkMiddleware from \"redux-thunk\";\nimport {reducer as formReducer} from \"redux-form\"\nimport appReducer from \"./app-reducer\";\n\n\nlet reducers = combineReducers({\n\n    profilePage: profileReducer,\n    dialogsPage: dialogsReducer,\n    sidebar: sidebarReducer,\n    usersPage: usersReducer,\n    auth: authReducer,\n    form: formReducer,\n    app: appReducer\n\n});\n\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\n\nwindow.__store__ = store;\n\nexport default store;","import React from 'react';\nimport './App.css';\nimport Navbar from \"./components/Navbar/Navbar\";\nimport Settings from \"./components/Settings/Settings\";\nimport Music from \"./components/Music/Music\";\nimport {HashRouter, Route, Routes} from \"react-router-dom\";\nimport {UsersContainer} from \"./components/Users/UsersContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Login from \"./components/Login/Login\";\nimport {connect, Provider} from \"react-redux\";\nimport Preloader from \"./components/Common/Preloader/Preloader\";\nimport {compose} from \"redux\";\nimport {initializeApp} from \"./redux/app-reducer\";\nimport store from \"./redux/redux-store\";\n\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'))\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'))\nconst News = React.lazy(() => import('./components/News/News'))\n\nclass App extends React.Component {\n\n    componentDidMount() {\n        this.props.initializeApp()\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n\n        return (\n            <div className='app-wrapper'>\n                <HeaderContainer/>\n                <Navbar/>\n                <div className='app-wrapper-content'>\n                    <React.Suspense fallback={<div>Loading...</div>}>\n                        <Routes>\n                            <Route path='/profile/:userId' element={<ProfileContainer/>}/>\n                            <Route path='/profile' element={<ProfileContainer/>}/>\n                            <Route path='/dialogs' element={<DialogsContainer/>}/>\n                            <Route path='/news' element={<News/>}/>\n                            <Route path='/music' element={<Music/>}/>\n                            <Route path='/settings' element={<Settings/>}/>\n                            <Route path='/users' element={<UsersContainer/>}/>\n                            <Route path='/login' element={<Login/>}/>\n                        </Routes>\n                    </React.Suspense>\n                </div>\n            </div>\n\n        );\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    initialized: state.app.initialized\n})\n\nconst AppContainer = compose(\n    connect(mapStateToProps, {initializeApp}))\n(App);\n\nconst AppMain = () => {\n    return <Provider store={store}>\n        {/*Only for demo purpose on gh pages. Use Browser router on prod*/}\n        <HashRouter>\n            <AppContainer/>\n        </HashRouter>\n    </Provider>\n}\n\nexport default AppMain","import React from 'react';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport ReactDOM from \"react-dom\";\nimport AppMain from \"./App\";\n\n\nReactDOM.render(\n    <React.StrictMode>\n        <AppMain/>\n    </React.StrictMode>,\n    document.getElementById('root')\n)\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"User_user__y-OP6\",\"avatar_button\":\"User_avatar_button__sZ6iL\",\"name_status\":\"User_name_status__1Lxe9\",\"location\":\"User_location__2fcbB\",\"name\":\"User_name__3NrJR\",\"status\":\"User_status__29Xzb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__zKx4R\",\"error\":\"FormControls_error__frz7K\",\"formCommonError\":\"FormControls_formCommonError__3gJr3\"};","import css from './FormControls.module.css'\n\nconst FormControl = (props) => {\n    const hasError = props.meta.touched && props.meta.error;\n    return (\n        <div className={css.formControl + \" \" + (hasError ? css.error : \"\")}>\n            <div>\n                {props.children}\n            </div>\n            <div>\n                {hasError && <span>{props.meta.error}</span>}\n            </div>\n        </div>\n    )\n}\n\nexport const Textarea = (props) => {\n    return <FormControl {...props}><textarea {...props.input} {...props} /></FormControl>\n}\n\nexport const Input = (props) => {\n    return <FormControl {...props}><input {...props.input} {...props} /></FormControl>\n}\n\n\n","export default __webpack_public_path__ + \"static/media/preloader.ccce4fa5.svg\";","import React from \"react\";\nimport preloader from \"../../../assets/images/preloader.svg\";\n\nconst Preloader = (props) => {\n    return <div>\n        <img alt={''} src={preloader}/>\n    </div>\n}\n\nexport default Preloader;","export const maxLengthCreator = (maxlength) => value => {\n    if (value.length > maxlength) return `Max length is ${maxlength}`\n    return undefined\n}\n\nexport const required = value => {\n    if (value) return undefined;\n    return 'Field is required'\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friends\":\"Friends_friends__1-Zf7\",\"friendsList\":\"Friends_friendsList__1yYy2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Paginator_pagination__374nS\",\"pageInput\":\"Paginator_pageInput__iXrZg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1VCKf\",\"login\":\"Header_login__3V3Qa\"};","import {AUTH_API, PROFILE_API} from \"../api/api\";\n\nconst ADD_POST = 'profile/ADD-POST';\nconst SET_USER_PROFILE = 'profile/SET_USER_PROFILE';\nconst SET_STATUS = 'profile/SET_STATUS';\nconst DELETE_POST = 'profile/DELETE_POST'\n\nlet profilePage = {\n    posts: [\n        {id: 1, message: 'Spank me!', likesCount: 15},\n        {id: 1, message: 'Please, daddy!', likesCount: 2}\n    ],\n    profile: null,\n    status: ''\n}\n\nconst profileReducer = (state = profilePage, action) => {\n    switch (action.type) {\n        case ADD_POST:\n            const post = {\n                id: 5,\n                message: action.body,\n                likesCount: 0\n            }\n            return {\n                ...state,\n                posts: [...state.posts, post]\n            }\n        case SET_USER_PROFILE:\n            return {...state, profile: action.profile}\n        case SET_STATUS:\n            return {\n                ...state,\n                status: action.status\n            }\n        case DELETE_POST:\n            return {\n                ...state,\n                posts: state.posts.filter(p => p.id !== action.postId)\n            }\n        default:\n            return state;\n    }\n}\n\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\nexport const addPost = (body) => ({ type: ADD_POST, body })\nexport const deletePost = (postId) => ({ type: DELETE_POST, postId})\nexport const setStatus = (status) => ({type: SET_STATUS, status})\n\n\nexport const updateStatus = (status) => {\n    return async (dispatch) => {\n        let response = await PROFILE_API.updateStatus(status)\n        if (response.resultCode === 0) {\n            dispatch(setStatus(status))\n        }\n    }\n}\n\nexport const getStatus = (userId) => async (dispatch) => {\n    let response = await PROFILE_API.getStatus(userId)\n    dispatch(setStatus(response.data))\n}\n\nexport const getProfile = (userId) => async (dispatch) => {\n    let response = await PROFILE_API.getProfile(userId)\n    dispatch(setUserProfile(response));\n}\n\n\nexport default profileReducer;"],"sourceRoot":""}